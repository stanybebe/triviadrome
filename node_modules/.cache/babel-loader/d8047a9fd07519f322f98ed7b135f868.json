{"ast":null,"code":"import _toConsumableArray from \"/Users/mac/Documents/GitHub/triviadrome/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/mac/Documents/GitHub/triviadrome/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/mac/Documents/GitHub/triviadrome/src/pages/Admin.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { io } from 'socket.io-client';\nfunction Admin() {\n  var _this = this;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    messages = _useState2[0],\n    setMessages = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    messagesOut = _useState4[0],\n    setMessagesOut = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    selectedUser = _useState6[0],\n    setSelectedUser = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    selectedUserId = _useState8[0],\n    setSelectedUserId = _useState8[1];\n  var _useState9 = useState([]),\n    _useState10 = _slicedToArray(_useState9, 2),\n    joinedUsers = _useState10[0],\n    setJoinedUsers = _useState10[1];\n  var sockets = io('http://localhost:3001');\n  useEffect(function () {\n    var socket = io('http://localhost:3001');\n    socket.emit('getJoinedUsers');\n    socket.on('joinedUsers', function (users) {\n      setJoinedUsers(users);\n      console.log(users);\n    });\n    socket.on('adminMessage', function (data) {\n      console.log('Received message:', data);\n      var userId = data.userId,\n        message = data.message;\n      console.log(data);\n      // Check the type of userId and message\n      console.log(typeof data.userId, typeof data.message);\n      // Update the messages state with the new message\n      setMessages(function (prevMessages) {\n        return [].concat(_toConsumableArray(prevMessages), [{\n          userId: userId,\n          message: message\n        }]);\n      });\n    });\n    return function () {\n      // socket.off('joinedUsers');\n      // Clean up the socket connection\n      socket.disconnect();\n    };\n  }, []);\n  var handleUserSelect = function handleUserSelect(user, userId) {\n    setSelectedUser(user);\n    setSelectedUserId(userId);\n  };\n\n  // Handle message change\n  var handleMessageChange = function handleMessageChange(event) {\n    setMessagesOut(event.target.value);\n  };\n\n  // Handle sending message to the selected user\n  var handleSendMessage = function handleSendMessage() {\n    if (selectedUser && messagesOut) {\n      sockets.emit('adminMessageOut', {\n        id: selectedUserId,\n        username: selectedUser,\n        messagesOut: messagesOut\n      });\n      setMessagesOut('');\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, \"Admin Component\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, messages.map(function (message, index) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, \"User \", message.userId, \": \"), message.message);\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, \"Select a User:\"), joinedUsers.map(function (user, index) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      onClick: function onClick() {\n        return handleUserSelect(user.username, user.id);\n      },\n      style: {\n        cursor: 'pointer'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 5\n      }\n    }, user.username);\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, \"Send Message:\"), selectedUser && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 26\n    }\n  }, \"Selected User: \", selectedUser), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: messagesOut,\n    onChange: handleMessageChange,\n    placeholder: \"Enter your message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSendMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, \"Send Message\")));\n}\n;\nexport default Admin;","map":{"version":3,"names":["React","useState","useEffect","io","Admin","_this","_useState","_useState2","_slicedToArray","messages","setMessages","_useState3","_useState4","messagesOut","setMessagesOut","_useState5","_useState6","selectedUser","setSelectedUser","_useState7","_useState8","selectedUserId","setSelectedUserId","_useState9","_useState10","joinedUsers","setJoinedUsers","sockets","socket","emit","on","users","console","log","data","userId","message","prevMessages","concat","_toConsumableArray","disconnect","handleUserSelect","user","handleMessageChange","event","target","value","handleSendMessage","id","username","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","index","key","onClick","style","cursor","type","onChange","placeholder"],"sources":["/Users/mac/Documents/GitHub/triviadrome/src/pages/Admin.jsx"],"sourcesContent":["\nimport React, { useState, useEffect } from 'react';\nimport { io } from 'socket.io-client';\n\n\n\nfunction Admin() {\n  const [messages, setMessages] = useState([]);\n  const [messagesOut, setMessagesOut] = useState([]);\n  const [selectedUser, setSelectedUser] = useState('');\n  const [selectedUserId, setSelectedUserId] = useState('');\n  const [joinedUsers, setJoinedUsers] = useState([]);\n\n  const sockets = io('http://localhost:3001');\n  useEffect(() => {\n    const socket = io('http://localhost:3001');\n    socket.emit('getJoinedUsers');\n\n    socket.on('joinedUsers', (users) => {\n      setJoinedUsers(users);\n      console.log(users);\n    });\n\n\n    socket.on('adminMessage', (data) => {\n      console.log('Received message:', data);\n      const { userId, message } = data;\n      console.log(data);\n      // Check the type of userId and message\n      console.log(typeof data.userId, typeof data.message);\n      // Update the messages state with the new message\n      setMessages((prevMessages) => [...prevMessages, { userId, message }]);\n    });\n\n    return () => {\n      // socket.off('joinedUsers');\n      // Clean up the socket connection\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleUserSelect = (user,userId) => {\n    setSelectedUser(user);\n    setSelectedUserId(userId);\n  };\n\n  // Handle message change\n  const handleMessageChange = (event) => {\n    setMessagesOut(event.target.value);\n  };\n\n  // Handle sending message to the selected user\n  const handleSendMessage = () => {\n  \n    if (selectedUser && messagesOut) {\n      sockets.emit('adminMessageOut', { id: selectedUserId, username: selectedUser, messagesOut });\n      setMessagesOut('');\n    }\n  };\n\n  \n\n  return (\n    <div>\n      <h1>Admin Component</h1>\n      <ul>\n        {messages.map((message, index) => (\n          <li key={index}>\n            <strong>User {message.userId}: </strong>\n            {message.message}\n          </li>\n        ))}\n      </ul>\n\n      <div>\n        <h3>Select a User:</h3>\n        {/* Map through the joined users and render clickable divs */}\n        {joinedUsers.map((user, index) => (\n    <div\n      key={index}\n            onClick={() => handleUserSelect(user.username, user.id)}\n            style={{ cursor: 'pointer' }}\n          >\n            {user.username}\n          </div>\n        ))}\n      </div>\n\n      <div>\n        <h3>Send Message:</h3>\n        {/* Display selected user information */}\n        {selectedUser && <p>Selected User: {selectedUser}</p>}\n        {/* Input field for message */}\n        <input\n          type=\"text\"\n          value={messagesOut}\n          onChange={handleMessageChange}\n          placeholder=\"Enter your message\"\n        />\n        {/* Button to send message */}\n        <button onClick={handleSendMessage}>Send Message</button>\n      </div>\n    \n    </div>\n  );\n};\n\nexport default Admin\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}